# Chapter 8 기능 이동

## 8.1 함수 옮기기
- 함께 옮겨서 편해진다든지, 다형 메소드와 같은 유형을 찾아서 옮기는 방법이다.
- 함수 옮기기를 할 때는 미리 임시 함수를 만들고 해당 함수에 작업들과 인터페이싱을 해놓고 그 이후에 본 함수에 인라인하고 결과값 테스트 이후 정상이라면 본 함수 부분을 지우고 변수에 인라인해서 적용한다.

## 8.2 필드 옮기기
- 적합한 데이터 구조를 위한 리팩터링 방법이다.
- 캡슐화를 이용해 데이터 구조를 아귀가 잘 맞도록 수정하는 방법이다.

## 8.3 문장을 함수로 옴기기
- 호출자의 수에 따라 함수 호출하는 부분과의 밀접한 관계를 위해 함수로 옮겨서 합치거나 호출자 수가 많다면 다른 새로운 함수로 추출한다.

## 8.4 문장을 호출한 곳으로 옮기기
- 8.3과는 반대의 동작이다.
- 초기에는 응집도도 높고 한 가지의 동작만 하다가 비대해지면 두 가지 이상의 동작을 수행하게 된다.
- 여러 곳에서 사용하는 기능들이 일부 사용자들에게는 다르게 동작되어야할 때 적용할 수 있는 방법이다.
- 이동하지 않을 코드를 임시 함수로 만들어 놓고, 원래 호출하던 함수로 옮긴다. 이때 호출자의 수가 매우 적을 때 효율적이다 왜냐하면 코드 라인이 당연히 늘어나기 때문이다.
- 그리고 마지막엔 임시 함수 이름을 원래 본 함수 이름으로 돌려놓는다. 사실상 분리하는 방법인 것 같다.

## 8.5 인라인 코드를 함수 호출로 바꾸기
- 함수 자체의 의미에 중요도를 둬서 중복 혹은 목적을 통해서 코드를 이해하기 쉽게 만들기 위한 방법이다.

## 8.6 문장 슬라이드하기
- 변수 선언이라든지 인라인 코드를 통해 변수 선언과 동시에 초기화를 하는 동작에서 군집들을 한 곳에 모아두는 것을 선호할 때 사용하는 방법으로 가독성에도 영향을 주는 방법인 것 같다.
- 미리 사용할 변수 혹은 객체들을 첫머리에 준비해둔다는 마인드

## 8.7 반복문 쪼개기 
- 반복문에서 굳이 두 가지 변수에 대해 작업을 할 필요없이 반복문은 나눠도 된다.
- 이 때 당연히 한 객체에 대해 반복문을 두 번 실행한다면 최적화 측면에서 비효율적이라고 보여지지만, 최적화와 리팩터링은 다르게 보기때문에 후에 병목 현상에 대해 다시 합치면 된다.
- 그리고 긴 리스트를 반복하더라도 병목현상이 되는 경우는 드물다. 고로 쪼개기가 강력한 최적화가 된다. 

## 8.8 반복문을 파이프라인으로 바꾸기
~~~swift
var names: [String] = []
for i in input {
  if i.job == "programmer" {
    names.append(i.name)
  }
}
보편적으로 이렇게 변수를 선언해두고 작업을 하는 경우가 있다.
하지만 복잡한 형태가 아니라면 고차함수를 이용해서 파이프라인으로 변경하는 것이 더 낫다.

let names: [String] = input.filter { $0.job == "programmer" }.map { $0.name }
이런 형태로 리팩터링 가능하다.
~~~

## 8.9 죽은 코드 제거하기
- 주석 활용


