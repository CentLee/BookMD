# Chapter 12 상속 다루기

## 12.1 메소드 올리기
- 중복 코드를 제거하는 데 사용하는 방법으로써 메소드를 상위 계층으로 올리는 방법이다.
- 중복되는 각각의 함수를 매개변수화한 다음 올리게 된다. 
- 중복이라는 것은 한쪽의 변경이 다른 한 쪽에는 반영이 안될 수 있다는 얘기다.

## 12.2 필드 올리기
- 메소드 올리기처럼 필드도 중복이 될 수 있으므로 비슷한 방식으로 쓰이는 서브클래스들의 필드가 있으면 상위 계층으로 올리도록 한다.

## 12.3 생성자 본문 올리기 
- 생성 메소드는 일반 메소드와는 달라서 공통 코드가 있을 땐 생성자에 웬만하면 제약을 두고 super.init()을 하게 만든다.

## 12.4 메소드 내리기
- 메소드 올리기와는 반대로 굳이 상속받지 않아도 될 메소드를 받지 않고 사용하는 곳만 사용한다면 제거하기 위한 방법이다.

## 12.5 필드 내리기
- 필드 올리기와는 반대로 메소드 내리기와 비슷한 방법이다.

## 12.6 타입 코드를 서브클래스로 바꾸기
- 비슷한 대상에 대해서 특정 특성에 따라 구분을 해야할 필요가 있는데 타입 코드를 반환하는 메소드가 있다면 다형성을 활용하여 서브 클래스를 분기처리하여 반환하게끔 만드는 방법이다.

## 12.7 서브 클래스 제거하기 
- 간단한 서브클래스의 코드는 타입이나 여러 값을 통해서 슈퍼 클래스로 옮겨서 굳이 사용하지 않아도 될 서브 클래스를 제거하는 것도 방법이다.
- 성별과 같이 값이 많이 존재하지 않는 경우에 대해서 사용해볼만 하다.

## 12.8 슈퍼클래스 추출하기
- 슈퍼클래스 추출하기는 메소드, 필드 올리기의 방법들을 활용하여 공통된 클래스가 보이면 상속 메커니즘을 활용하여 리팩터링하는 방법이다.

## 12.9 계층 합치기
- 클래스를 합치는 방법이다.

## 12.10 서브 클래스를 위임으로 바꾸기
- 속한 갈래에 따라 동작이 달라져야하는 객체들은 상속으로 표현하는 것이 자연스럽지만, 상속의 단점은 단 하나의 이유만 선택해 기준을 삼게 된다.
- 이렇다면 주문이나 명령이라는 것이 생길 때 상속을 사용하면 종속되는 것이다 여러 가지 동작을 할 수 없다. 
- 따라서 종속되는 것이 아닌 값에 따라 동작이 달라져야 한다면 Delegation 패턴을 사용하여 서브 클래스를 개선할 수 있다.
- 서브 클래스가 여러 개이며, 그 서브 클래스들의 메소드명은 같으나 동작이 달라야 한다면 슈퍼 클래스에 위임 객체를 서브 클래스들의 특성에 따라 각각의 Delegate 객체를 반환하도록 메소드를 구성한다
- 서브 클래스들 중에서 특정 클래스 하나만 혹은 소수만 다른 동작이 있다면 특정 서브 클래스를 집어서 검사를 통해 작업하기 보다 위임객체 또한 슈퍼클래스로 추출해서 최상위 계층에 포함시켜서 계층 구조를 개선한다.


## 12.11 슈퍼클래스를 위임으로 바꾸기
- 상속을 정말 강력히 활용한다는 의미는 서브클래스가 슈퍼클래스의 기능과 인터페이스를 모두 활용하고 리스코프 대체 원칙처럼 인스턴스도 대체할 수 있어야한다는 점이다.
- 이런 상황에서 서브 클래스가 슈퍼클래스의 기능을 완전하게 활용하는 것이 아니라면 슈퍼클래스의 기능 일부만을 위임 객체로 바꿔서 그 위임객체를 서브 클래스가 받아서 사용할 수 있게끔 해줘야한다.
- 상속 관계를 끊고 원래 슈퍼 클래스였던 객체를 해당 클래스가 생성 메소드에서 생성하여 사용할 수 있도록 관계를 수정한다.

## 결론
- 결국 리팩터링의 기법들이 다양하지만, 가장 중요한 것은 객체지향, 비즈니스 플로우의 이해와 같은 전반적으로 프로그램에 대한 깊은 이해도가 있을 때 리팩터링의 진정한 효과가 나온다고 생각한다.
- 상속, 다형성, 추상화 등 여러가지 장점이 있지만 제대로 활용하지 못한다면 무용지물이라고 생각되며, 생산성과 퀄리티 또한 떨어진다고 생각된다.
- 따라서 설계라는 것이 얼마나 중요한 지 다시금 깨닫게 된 독서 시간이었으며, 앞으로 Swift 코딩을 함에 있어서도 악취가 나지 않도록 유의해서 생각과 설계에 대해 중요도를 두고 개발을 해야한다.
- 필독서인 이유는 기본기를 더욱 더 탄탄하게 만들어주면서 개발의 본질 자체에 대해 생각해볼 수 있는 책이라고 생각된다.
