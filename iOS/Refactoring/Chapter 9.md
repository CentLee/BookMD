# Chapter 9 데이터 조직화
- 하나의 변수가 여러 목적으로 사용된다면 변수 쪼개기를 하는 것이 혼란을 방지할 수 있다.

## 9.1 변수 쪼개기
- 두 가지 이상의 역할을 하는 변수 = 두 번 이상 다른 값들이 대입된다는 뜻과 유사
- 이런 경우에 변수를 쪼개는 방법을 적용한다.
- 쪼갤 때는 let 와 같이 불변하는 변수로 쪼개서 원 변수랑은 다르게 쪼갤 수 있다. JS에선 원 변수는 let, 쪼개진 변수는 const ( 특정 조건 안에서 동작한다든지 이미 사용한 값에 대해서 다시 다른 값이 대입된다든지의 경우)

## 9.2 필드 이름 바꾸기
- 데이터 테이블에 대한 중요도를 설명하며, 데이터 구조 또한 프로그램을 이해하는 데에 중요한 역할을 한다.
- 앞선 챕터들과 유사하게 레코드들을 캡슐화하고 접근제어자를 활용해서 필드 이름을 바꾸는 방법이다.

## 9.3 파생 변수를 질의 함수로 바꾸기
~~~swift
var total: Int = 0
var temp: Int {
  get {
    return temp
  }
  set {
    let old = temp
    total = old - newValue
  }
}
이런 형식의 코드보다는 아래 방식을 차용해서 세터를 사용할 변수에는 세터만 하고 최종적으로 값을 반환해서 이용할 변수에 대해서 질의 함수 형태로 구성하는 방법이 좋다.

var total: Int {
  get {
    return total - temp
  }
}

var temp: Int {
  set {
    temp = newValue
  }
}

~~~

## 9.4 참조를 값으로 바꾸기
- 값 타입을 사용해서 파라미터를 받아서 계속 특정 변수에 참조를 하는 것보다 파라미터를 받았을 때 해당 내부 객체에 대해 값 객체로 만들어 불변한 상태로 만드는 방법이다.
- 값 객체가 불변한 상태기 때문에 내부에 영향을 주지 않게 되므로 활용도가 높다.

~~~swift
class Product {
  var price: Money = Money()
  
  struct Money {
    let amount: Int
  }
  
  func applyDiscount(discount: Int) {
    price -= discout 
    ->
    price = Money(amount: self.price.amount - discount) 이런 방식으로 적용한다.
  }
}
~~~

## 9.5 값을 참조로 바꾸기
- 9.4장과는 반대의 리팩터링 방법인데, 값 객체를 많이 사용하고 많은 복제본을 만들게 됐을 때 그 객체에 대해 매번 수정하기에는 번거롭다. 
- 그러므로 참조 타입으로 변경을 하면 복제된 모든 데이터에 대해서 값을 일관성있게 적용할 수 있는 방법이다.

## 9.6 매직 리터럴 바꾸기
- 특정 값(상수)에 대해서 알아 볼 수 있는 변수로 바꿔주는 방법이다.
- 예를 들어 파이, 인치 단위 같은 정해진 숫자들에 대해서 상수 변수를 적용해서 리팩터링하는 방법이다.
