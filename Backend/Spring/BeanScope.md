# BeanScope

#### 스프링 빈은 스프링 컨테이너의 시작과 함께 생성되어 컨테이너 종료 시까지 유지된다. 이 말은 기본적으로 싱글톤 스코프로 생성되기때문이다. 
#### 이 외에도 다양한 스코프를 지원하지만, 보편적으로 싱글톤으로 해결됨

- 싱글톤
- 프로토타입: 스프링 컨테이너가 의존관계 주입까지만 관여하기 때문에 매우 짧은 범위이며, 빈을 조회할 때 항상 새로운 빈은 생성해서 클라이언트에게 반환한다. 
- 웹 관련 스코프
    - request: request 요청이 들어오고 나갈 때까지 유지
    - session: http session랑 유사
    - application: 서블릿 컨텍스트와 같은 범위로 유지


#### 싱글톤 빈 내부에 프로토타입 빈을 같이 쓰게되면 실제 싱글톤 빈 생성 시에 프로토타입 빈을 주입받는 구조라 프로토타입 빈의 원래 동작대로 하지 않고 주입된 빈을 계속 사용하게 된다. 
#### 이걸 방지하고자 프로바이더를 제공한다.

- ObjectFactory
- ObjectProvider

#### 이 두 가지를 사용해서 빈을 가져오게 되면 새로운 프로토타입 빈이 생성되는 것을 알 수 있다. 이것을 DL(Dependency Lookup) 이라고 한다.